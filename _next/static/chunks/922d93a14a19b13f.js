(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60166,25460,39890,e=>{"use strict";let t={chartType:"line",responsive:!0,showTooltip:!0,showLegend:!1,lineWidth:2,showDots:!0,dotRadius:3,smooth:!1,showLabels:!0,xAxis:{fontSize:11,fontWeight:"bold",angle:-45},yAxis:{fontSize:12,fontWeight:"bold",width:50}};e.s(["DEFAULT_LINE_CHART_CONFIG",0,t],25460);let a={chartType:"bar",responsive:!0,showTooltip:!0,showLegend:!1,orientation:"horizontal",showLabels:!0,labelPosition:"right",xAxis:{fontSize:12,fontWeight:"bold"},yAxis:{fontSize:10,fontWeight:"bold",width:180}};e.s(["DEFAULT_BAR_CHART_CONFIG",0,a],39890);var s=e.i(58471);let r={id:"main-dashboard",path:"/",title:"Tillster Proactive Monitoring Dashboard",description:"Real-time monitoring of kiosk operations across all locations",style:{backgroundColor:"#ffffff",padding:"1.5rem"},layout:{type:"grid",columns:2,gap:"1.5rem"},charts:[{chartId:"bkus-order-failure-trend",config:{...t,id:"bkus-order-failure-trend",title:"BK-US Order Failure Trend",colors:{primary:"#22c55e"}},dataSource:{connector:"newrelic",query:"orderFailureTrend",tenant:"BKUS"}},{chartId:"plkus-order-failure-trend",config:{...t,id:"plkus-order-failure-trend",title:"PLK-US Order Failure Trend",colors:{primary:"#f97316"}},dataSource:{connector:"newrelic",query:"orderFailureTrend",tenant:"PLKUS"}},{chartId:"bkus-failure-types",config:{...a,id:"bkus-failure-types",title:"BK-US Order Failure Types",colors:{primary:"#22c55e"}},dataSource:{connector:"newrelic",query:"orderFailureTypes",tenant:"BKUS"}},{chartId:"plkus-failure-types",config:{...a,id:"plkus-failure-types",title:"PLK-US Order Failure Types",colors:{primary:"#f97316"}},dataSource:{connector:"newrelic",query:"orderFailureTypes",tenant:"PLKUS"}},{chartId:"bkus-us-map",config:{...s.DEFAULT_MAP_CHART_CONFIG,id:"bkus-us-map",title:"BK-US Alert Heatmap"},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"BKUS"}},{chartId:"plkus-us-map",config:{...s.DEFAULT_MAP_CHART_CONFIG,id:"plkus-us-map",title:"PLK-US Alert Heatmap"},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"PLKUS"}}],showRefreshButton:!0,autoRefresh:!1,refreshInterval:30};e.s(["MAIN_DASHBOARD_CONFIG",0,r],60166)},58471,e=>{"use strict";e.s(["DEFAULT_MAP_CHART_CONFIG",0,{chartType:"map",responsive:!0,showTooltip:!0,mapType:"us-states",centerCoordinates:[-98.5795,39.8283],zoom:1,fillColor:"#d1d5db",strokeColor:"#ffffff",strokeWidth:1,hoverColor:"#9ca3af",showLabels:!0,labelFontSize:8,enableZoom:!1,enablePan:!1,clickable:!1}])},85792,e=>{"use strict";var t=e.i(58471);let a={id:"map-dashboard",path:"/map-dashboard",title:"US Alert Map Dashboard",description:"Geographic distribution of alerts across the United States",style:{backgroundColor:"#ffffff",padding:"2rem"},layout:{type:"grid",columns:2,gap:"2rem"},charts:[{chartId:"bkus-map-large",config:{...t.DEFAULT_MAP_CHART_CONFIG,id:"bkus-map-large",title:"BK-US Alert Distribution",style:{height:"600px"},colors:{primary:"#22c55e"},showLabels:!0,labelFontSize:10},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"BKUS"}},{chartId:"plkus-map-large",config:{...t.DEFAULT_MAP_CHART_CONFIG,id:"plkus-map-large",title:"PLK-US Alert Distribution",style:{height:"600px"},colors:{primary:"#f97316"},showLabels:!0,labelFontSize:10},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"PLKUS"}}],showRefreshButton:!1,autoRefresh:!0,refreshInterval:15};e.s(["MAP_DASHBOARD_CONFIG",0,a])},1327,e=>{"use strict";var t=e.i(81532);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:n,iconNode:c,...d},h)=>(0,t.createElement)("svg",{ref:h,...r,width:a,height:a,stroke:e,strokeWidth:l?24*Number(o)/Number(a):o,className:s("lucide",i),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(n)?n:[n]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...i},n)=>(0,t.createElement)(o,{ref:n,iconNode:r,className:s(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...i}));return l.displayName=a(e),l};e.s(["default",()=>l],1327)},6747,e=>{"use strict";var t=e.i(38370),a=e.i(81532);e.i(92323);var s=e.i(51608),r=e.i(20337),o=e.i(35283),l=e.i(25390);function i(){let[e,i]=(0,a.useState)(!0),[n,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)([]),u=async()=>{c(!0);let e=new Date;console.log(`[Map Dashboard Refresh] Started at ${e.toLocaleTimeString()}`);try{let t=new r.DashboardDataService(o.TENANT_CONFIG.BKUS.accountId,o.TENANT_CONFIG.BKUS.apiKey,"BKUS"),a=new r.DashboardDataService(o.TENANT_CONFIG.PLKUS.accountId,o.TENANT_CONFIG.PLKUS.apiKey,"PLKUS"),[s,l]=await Promise.all([t.fetchKioskLocations("BKUS"),a.fetchKioskLocations("PLKUS")]);console.log("BK-US kiosk locations:",s),console.log("PLK-US kiosk locations:",l);let i=[...s,...l];console.log("Combined kiosk location data for map:",i),h(i);let n=new Date,c=((n.getTime()-e.getTime())/1e3).toFixed(2),d=i.filter(e=>"ONLINE"===e.status).length,u=i.filter(e=>"OFFLINE"===e.status).length;console.log(`[Map Dashboard Refresh] Completed at ${n.toLocaleTimeString()} (took ${c}s)`),console.log(`[Map Dashboard Stats] Total kiosks: ${i.length}, Online: ${d}, Offline: ${u}`)}catch(e){console.error("[Map Dashboard Refresh] Failed:",e)}finally{i(!1),c(!1)}};(0,a.useEffect)(()=>{if(u(),!o.DASHBOARD_CONFIG.showRefreshButton){let e=setInterval(()=>{u()},60*o.DASHBOARD_CONFIG.autoRefreshMinutes*1e3);return()=>clearInterval(e)}},[]);let f=d.filter(e=>"ONLINE"===e.status).length,p=d.filter(e=>"OFFLINE"===e.status).length,m=d.length;return(0,t.jsxs)("div",{className:"h-screen w-screen flex flex-col bg-gray-50",children:[o.DASHBOARD_CONFIG.showRefreshButton&&(0,t.jsxs)("button",{onClick:u,disabled:n,className:"fixed top-6 right-6 z-50 flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg border border-gray-200",children:[(0,t.jsx)(l.RefreshCw,{className:`h-4 w-4 ${n?"animate-spin":""}`}),n?"Refreshing...":"Refresh"]}),(0,t.jsx)("div",{className:"px-4 pt-6 pb-2",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center",children:"US Kiosk Status Map"})}),(0,t.jsx)("div",{className:"flex-1 px-4 pb-4",children:(0,t.jsxs)("div",{className:"h-full w-full bg-white rounded-lg shadow relative",children:[(0,t.jsx)(s.KioskLocationMap,{data:d}),(0,t.jsxs)("div",{className:"absolute bottom-6 left-6 flex gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-base font-bold text-gray-800 mb-3",children:"US Kiosk Status Map"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Combined data for BK-US & PLK-US"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Total Kiosks:"}),(0,t.jsx)("span",{className:"font-semibold text-gray-800",children:m})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Online:"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:f})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Offline:"}),(0,t.jsx)("span",{className:"font-semibold text-red-600",children:p})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"State Health"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#dcfce7"}}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Green:"})," < 5% offline"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#fed7aa"}}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Amber:"})," 5-10% offline"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#fecaca"}}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Red:"})," > 10% offline"]})]})]})]})]}),e&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-700 font-semibold",children:"Loading map data..."})]})})]})})]})}e.s(["default",()=>i])},58938,e=>{e.v(e=>Promise.resolve().then(()=>e(60166)))},10179,e=>{e.v(e=>Promise.resolve().then(()=>e(85792)))}]);