(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93059,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},1327,e=>{"use strict";var t=e.i(81532);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:o="",children:n,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:l?24*Number(s)/Number(r):s,className:a("lucide",o),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(n)?n:[n]])),l=(e,i)=>{let l=(0,t.forwardRef)(({className:l,...o},n)=>(0,t.createElement)(s,{ref:n,iconNode:i,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=r(e),l};e.s(["default",()=>l],1327)},58471,e=>{"use strict";e.s(["DEFAULT_MAP_CHART_CONFIG",0,{chartType:"map",responsive:!0,showTooltip:!0,mapType:"us-states",centerCoordinates:[-98.5795,39.8283],zoom:1,fillColor:"#d1d5db",strokeColor:"#ffffff",strokeWidth:1,hoverColor:"#9ca3af",showLabels:!0,labelFontSize:8,enableZoom:!1,enablePan:!1,clickable:!1}])},85792,e=>{"use strict";var t=e.i(58471);let r={id:"map-dashboard",path:"/map-dashboard",title:"US Alert Map Dashboard",description:"Geographic distribution of alerts across the United States",style:{backgroundColor:"#ffffff",padding:"2rem"},layout:{type:"grid",columns:2,gap:"2rem"},charts:[{chartId:"bkus-map-large",config:{...t.DEFAULT_MAP_CHART_CONFIG,id:"bkus-map-large",title:"BK-US Alert Distribution",style:{height:"600px"},colors:{primary:"#22c55e"},showLabels:!0,labelFontSize:10},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"BKUS"}},{chartId:"plkus-map-large",config:{...t.DEFAULT_MAP_CHART_CONFIG,id:"plkus-map-large",title:"PLK-US Alert Distribution",style:{height:"600px"},colors:{primary:"#f97316"},showLabels:!0,labelFontSize:10},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"PLKUS"}}],showRefreshButton:!1,autoRefresh:!0,refreshInterval:15};e.s(["MAP_DASHBOARD_CONFIG",0,r])},60166,25460,39890,e=>{"use strict";let t={chartType:"line",responsive:!0,showTooltip:!0,showLegend:!1,lineWidth:2,showDots:!0,dotRadius:3,smooth:!1,showLabels:!0,xAxis:{fontSize:11,fontWeight:"bold",angle:-45},yAxis:{fontSize:12,fontWeight:"bold",width:50}};e.s(["DEFAULT_LINE_CHART_CONFIG",0,t],25460);let r={chartType:"bar",responsive:!0,showTooltip:!0,showLegend:!1,orientation:"horizontal",showLabels:!0,labelPosition:"right",xAxis:{fontSize:12,fontWeight:"bold"},yAxis:{fontSize:10,fontWeight:"bold",width:180}};e.s(["DEFAULT_BAR_CHART_CONFIG",0,r],39890);var a=e.i(58471);let i={id:"main-dashboard",path:"/",title:"Tillster Proactive Monitoring Dashboard",description:"Real-time monitoring of kiosk operations across all locations",style:{backgroundColor:"#ffffff",padding:"1.5rem"},layout:{type:"grid",columns:2,gap:"1.5rem"},charts:[{chartId:"bkus-order-failure-trend",config:{...t,id:"bkus-order-failure-trend",title:"BK-US Order Failure Trend",colors:{primary:"#22c55e"}},dataSource:{connector:"newrelic",query:"orderFailureTrend",tenant:"BKUS"}},{chartId:"plkus-order-failure-trend",config:{...t,id:"plkus-order-failure-trend",title:"PLK-US Order Failure Trend",colors:{primary:"#f97316"}},dataSource:{connector:"newrelic",query:"orderFailureTrend",tenant:"PLKUS"}},{chartId:"bkus-failure-types",config:{...r,id:"bkus-failure-types",title:"BK-US Order Failure Types",colors:{primary:"#22c55e"}},dataSource:{connector:"newrelic",query:"orderFailureTypes",tenant:"BKUS"}},{chartId:"plkus-failure-types",config:{...r,id:"plkus-failure-types",title:"PLK-US Order Failure Types",colors:{primary:"#f97316"}},dataSource:{connector:"newrelic",query:"orderFailureTypes",tenant:"PLKUS"}},{chartId:"bkus-us-map",config:{...a.DEFAULT_MAP_CHART_CONFIG,id:"bkus-us-map",title:"BK-US Alert Heatmap"},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"BKUS"}},{chartId:"plkus-us-map",config:{...a.DEFAULT_MAP_CHART_CONFIG,id:"plkus-us-map",title:"PLK-US Alert Heatmap"},dataSource:{connector:"newrelic",query:"alertHeatmap",tenant:"PLKUS"}}],showRefreshButton:!0,autoRefresh:!1,refreshInterval:30};e.s(["MAIN_DASHBOARD_CONFIG",0,i],60166)},71185,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=e.r(81532);function i(e,t){let r=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=s(e,a)),t&&(i.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},11787,e=>{"use strict";let t=(0,e.i(1327).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],11787)},66283,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:i,objectFit:s}){let l=r?40*r:e,o=a?40*a:t,n=l&&o?`viewBox='0 0 ${l} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${n}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${n?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${i}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},88381,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=["default","imgix","cloudinary","akamai","custom"],l={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},75184,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return n}}),e.r(93059);let a=e.r(66283),i=e.r(88381),s=["-moz-initial","fill","none","scale-down",void 0];function l(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function n({src:e,sizes:t,unoptimized:r=!1,priority:n=!1,preload:d=!1,loading:c,className:u,quality:f,width:h,height:g,fill:p=!1,style:m,overrideSrc:b,onLoad:x,onLoadingComplete:y,placeholder:v="empty",blurDataURL:S,fetchPriority:w,decoding:j="async",layout:_,objectFit:P,objectPosition:N,lazyBoundary:O,lazyRoot:k,...C},K){var U;let T,A,R,{imgConf:L,showAltText:F,blurComplete:E,defaultLoader:I}=K,B=L||i.imageConfigDefault;if("allSizes"in B)T=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),r=B.qualities?.sort((e,t)=>e-t);T={...B,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===I)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let D=C.loader||I;delete C.loader,delete C.srcSet;let $="__next_img_default"in D;if($){if("custom"===T.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=D;D=t=>{let{config:r,...a}=t;return e(a)}}if(_){"fill"===_&&(p=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[_];e&&(m={...m,...e});let r={responsive:"100vw",fill:"100vw"}[_];r&&!t&&(t=r)}let M="",z=o(h),H=o(g);if((U=e)&&"object"==typeof U&&(l(U)||void 0!==U.src)){let t=l(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(A=t.blurWidth,R=t.blurHeight,S=S||t.blurDataURL,M=t.src,!p)if(z||H){if(z&&!H){let e=z/t.width;H=Math.round(t.height*e)}else if(!z&&H){let e=H/t.height;z=Math.round(t.width*e)}}else z=t.width,H=t.height}let G=!n&&!d&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:M)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,G=!1),T.unoptimized&&(r=!0),$&&!T.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let q=o(f),W=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:P,objectPosition:N}:{},F?{}:{color:"transparent"},m),V=E||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:z,heightInt:H,blurWidth:A,blurHeight:R,blurDataURL:S||"",objectFit:W.objectFit})}")`:`url("${v}")`,X=s.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=V?{backgroundSize:X,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:V}:{},J=function({config:e,src:t,unoptimized:r,width:a,quality:i,sizes:s,loader:l}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:n}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=r.exec(a);)i.push(parseInt(e[2]));if(i.length){let r=.01*Math.min(...i);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,s),d=o.length-1;return{sizes:s||"w"!==n?s:"100vw",srcSet:o.map((r,a)=>`${l({config:e,src:t,quality:i,width:r})} ${"w"===n?r:a+1}${n}`).join(", "),src:l({config:e,src:t,quality:i,width:o[d]})}}({config:T,src:e,unoptimized:r,width:z,quality:q,sizes:t,loader:D}),Q=G?"lazy":c;return{props:{...C,loading:Q,fetchPriority:w,width:z,height:H,decoding:j,className:u,style:{...W,...Z},sizes:J.sizes,srcSet:J.srcSet,src:b||J.src},meta:{unoptimized:r,preload:d||n,placeholder:v,fill:p}}}},35325,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let a=e.r(81532),i="undefined"==typeof window,s=i?()=>{}:a.useLayoutEffect,l=i?()=>{}:a.useEffect;function o(e){let{headManager:t,reduceComponentsToState:r}=e;function o(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return i&&(t?.mountedInstances?.add(e.children),o()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),l(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},49095,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return p},defaultHead:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(38218),l=e.r(34942),o=e.r(38370),n=l._(e.r(81532)),d=s._(e.r(35325)),c=e.r(50104);function u(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(93059);let h=["name","httpEquiv","charSet","itemProp"];function g(e){let t,r,a,i;return e.reduce(f,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,i={},e=>{let s=!0,l=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){l=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=h.length;t<r;t++){let r=h[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?s=!1:a.add(r);else{let t=e.props[r],a=i[r]||new Set;("name"!==r||!l)&&a.has(t)?s=!1:(a.add(t),i[r]=a)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return n.default.cloneElement(e,{key:r})})}let p=function({children:e}){let t=(0,n.useContext)(c.HeadManagerContext);return(0,o.jsx)(d.default,{reduceComponentsToState:g,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},48497,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let a=e.r(38218)._(e.r(81532)),i=e.r(88381),s=a.default.createContext(i.imageConfigDefault)},97154,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(38218)._(e.r(81532)).default.createContext(null)},13340,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},11471,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(13340);function i({config:e,src:t,width:r,quality:i}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,a.findClosestQuality)(i,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}i.__next_img_default=!0;let s=i},68306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(38218),i=e.r(34942),s=e.r(38370),l=i._(e.r(81532)),o=a._(e.r(58173)),n=a._(e.r(49095)),d=e.r(75184),c=e.r(88381),u=e.r(48497);e.r(93059);let f=e.r(97154),h=a._(e.r(11471)),g=e.r(71185),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/kiosk-tv-dashboard/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,r,a,i,s,l){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function b(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let x=(0,l.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:i,decoding:o,className:n,style:d,fetchPriority:c,placeholder:u,loading:f,unoptimized:h,fill:p,onLoadRef:x,onLoadingCompleteRef:y,setBlurComplete:v,setShowAltText:S,sizesInput:w,onLoad:j,onError:_,...P},N)=>{let O=(0,l.useCallback)(e=>{e&&(_&&(e.src=e.src),e.complete&&m(e,u,x,y,v,h,w))},[e,u,x,y,v,_,h,w]),k=(0,g.useMergedRef)(N,O);return(0,s.jsx)("img",{...P,...b(c),loading:f,width:i,height:a,decoding:o,"data-nimg":p?"fill":"1",className:n,style:d,sizes:r,srcSet:t,src:e,ref:k,onLoad:e=>{m(e.currentTarget,u,x,y,v,h,w)},onError:e=>{S(!0),"empty"!==u&&v(!0),_&&_(e)}})});function y({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...b(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,r),null):(0,s.jsx)(n.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,l.forwardRef)((e,t)=>{let r=(0,l.useContext)(f.RouterContext),a=(0,l.useContext)(u.ImageConfigContext),i=(0,l.useMemo)(()=>{let e=p||a||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),i=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:i,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:o,onLoadingComplete:n}=e,g=(0,l.useRef)(o);(0,l.useEffect)(()=>{g.current=o},[o]);let m=(0,l.useRef)(n);(0,l.useEffect)(()=>{m.current=n},[n]);let[b,v]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!1),{props:j,meta:_}=(0,d.getImgProps)(e,{defaultLoader:h.default,imgConf:i,blurComplete:b,showAltText:S});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{...j,unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:g,onLoadingCompleteRef:m,setBlurComplete:v,setShowAltText:w,sizesInput:e.sizes,ref:t}),_.preload?(0,s.jsx)(y,{isAppRouter:!r,imgAttributes:j}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},60597,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return d}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(38218),l=e.r(75184),o=e.r(68306),n=s._(e.r(11471));function d(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/kiosk-tv-dashboard/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=o.Image},91412,(e,t,r)=>{t.exports=e.r(60597)},9519,e=>{"use strict";var t=e.i(38370),r=e.i(81532),a=e.i(91412);e.i(92323);var i=e.i(3895),s=e.i(90171),l=e.i(22909),o=e.i(20337),n=e.i(35283),d=e.i(25390),c=e.i(11787),u=e.i(1327);let f=(0,u.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),h=(0,u.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);function g({title:e,value:r,subtitle:a,icon:i,variant:s,loading:l}){let o="bk"===s?"text-emerald-700":"text-orange-700",n=r.includes("%"),d=n?parseFloat(r.replace("%","")):null;return(0,t.jsx)("div",{className:`${"bk"===s?"bg-gradient-to-br from-emerald-50 to-teal-50":"bg-gradient-to-br from-orange-50 to-amber-50"} rounded-xl p-4 border-2 ${"bk"===s?"border-emerald-200":"border-orange-200"} shadow-sm hover:shadow-md transition-shadow`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[120px]",children:[(0,t.jsx)("p",{className:`text-xs font-semibold ${o} mb-3 uppercase tracking-wide text-center`,children:e}),l?(0,t.jsx)("div",{className:"h-16 w-20 bg-gray-200 animate-pulse rounded"}):(0,t.jsx)("div",{className:"flex items-center justify-center gap-3",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`
                  flex items-center justify-center
                  w-16 h-16 rounded-full
                  ${null!==d&&d>=90?"bg-green-500":"bg-red-500 animate-pulse shadow-lg shadow-red-500/50"}
                `,children:(0,t.jsx)("span",{className:"text-xl font-bold text-white",children:r})}),a&&(0,t.jsx)("p",{className:`text-2xl font-bold ${o}`,children:a})]}):(0,t.jsx)("p",{className:`text-2xl font-bold ${o} text-center`,children:r})}),(0,t.jsx)("div",{className:`${o} p-2 bg-white/50 rounded-lg mt-3`,children:i})]})})}function p(){let[e,u]=(0,r.useState)(!0),[p,m]=(0,r.useState)(!1),[b,x]=(0,r.useState)({BKUS:{totalStores:0,totalKiosks:0,onlineStores:0,offlineStores:0,onlineKiosks:0,offlineKiosks:0},PLKUS:{totalStores:0,totalKiosks:0,onlineStores:0,offlineStores:0,onlineKiosks:0,offlineKiosks:0}}),[y,v]=(0,r.useState)({BKUS:{orderFailureTrend:[],typeOfIssues:[],orderFailureTypes:[],alertHeatmap:[]},PLKUS:{orderFailureTrend:[],typeOfIssues:[],orderFailureTypes:[],alertHeatmap:[]}}),S=async()=>{m(!0);let e=new Date;console.log("=== DASHBOARD REFRESH START ==="),console.log(`[Dashboard Refresh] Started at ${e.toLocaleTimeString()}`);try{let t=new o.DashboardDataService(n.TENANT_CONFIG.BKUS.accountId,n.TENANT_CONFIG.BKUS.apiKey,"BKUS"),r=new o.DashboardDataService(n.TENANT_CONFIG.PLKUS.accountId,n.TENANT_CONFIG.PLKUS.apiKey,"PLKUS"),[a,i,s,l]=await Promise.all([t.fetchDashboardData("BKUS"),r.fetchDashboardData("PLKUS"),t.fetchChartData("BKUS"),r.fetchChartData("PLKUS")]);x({BKUS:a,PLKUS:i}),v({BKUS:s,PLKUS:l});let d=new Date,c=((d.getTime()-e.getTime())/1e3).toFixed(2);console.log(`[Dashboard Refresh] Completed at ${d.toLocaleTimeString()} (took ${c}s)`),console.log(`[Dashboard Stats] BK-US: ${a.onlineKiosks}/${a.totalKiosks} online, PLK-US: ${i.onlineKiosks}/${i.totalKiosks} online`)}catch(e){console.error("[Dashboard Refresh] Failed:",e)}finally{u(!1),m(!1)}};(0,r.useEffect)(()=>{if(S(),!n.DASHBOARD_CONFIG.showRefreshButton){let e=setInterval(()=>{S()},60*n.DASHBOARD_CONFIG.autoRefreshMinutes*1e3);return()=>clearInterval(e)}},[]);let w=(e,t)=>0===t?0:Math.round(e/t*100);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 transition-colors",children:[n.DASHBOARD_CONFIG.showRefreshButton&&(0,t.jsxs)("button",{onClick:S,disabled:p,className:"fixed top-6 right-6 z-50 flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg border border-gray-200",children:[(0,t.jsx)(d.RefreshCw,{className:`h-4 w-4 ${p?"animate-spin":""}`}),p?"Refreshing...":"Refresh"]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-lg overflow-hidden shadow-lg bg-white",children:(0,t.jsx)(a.default,{src:"/bk-us.png",alt:"Burger King",width:56,height:56,className:"object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"BK-US Alerts"}),(0,t.jsx)("p",{className:"text-xs text-emerald-50",children:"Burger King United States"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsx)(g,{title:"Total Store (Kiosk)",value:`${b.BKUS.totalStores} (${b.BKUS.totalKiosks})`,icon:(0,t.jsx)(h,{className:"h-5 w-5"}),variant:"bk",loading:e}),(0,t.jsx)(g,{title:"Online Store (Kiosk)",value:`${w(b.BKUS.onlineStores,b.BKUS.totalStores)}%`,subtitle:`${b.BKUS.onlineStores} (${b.BKUS.onlineKiosks})`,icon:(0,t.jsx)(c.Activity,{className:"h-5 w-5"}),variant:"bk",loading:e}),(0,t.jsx)(g,{title:"Offline Store (Kiosk)",value:`${b.BKUS.offlineStores} (${b.BKUS.offlineKiosks})`,icon:(0,t.jsx)(f,{className:"h-5 w-5"}),variant:"bk",loading:e})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border-2 border-emerald-200 shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-emerald-100",children:(0,t.jsx)("h3",{className:"text-lg font-bold text-emerald-700",children:"Order Failure Heatmap (Today)"})}),(0,t.jsx)("div",{className:"p-4",style:{height:"400px"},children:(0,t.jsx)(l.AlertHeatmap,{data:y.BKUS.alertHeatmap})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white  rounded-xl border-2 border-emerald-200  shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold mb-3 text-emerald-700 ",children:"Order Failure Trend (1 Week)"}),(0,t.jsx)("div",{style:{height:"250px"},children:y.BKUS.orderFailureTrend.length>0?(0,t.jsx)(i.ConfigurableLineChart,{config:{title:"BK-US Order Failure Trend",colors:{primary:"#10b981"}},data:y.BKUS.orderFailureTrend}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsx)("div",{className:"text-gray-400 text-gray-600",children:"Loading chart..."})})})]}),(0,t.jsxs)("div",{className:"bg-white  rounded-xl border-2 border-emerald-200  shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold mb-3 text-emerald-700 ",children:"Order Failure Types (1 Week)"}),(0,t.jsx)("div",{style:{height:"250px"},children:y.BKUS.orderFailureTypes.length>0?(0,t.jsx)(s.ConfigurableBarChart,{config:{title:"BK-US Order Failure Types",colors:{primary:"#10b981"},orientation:"horizontal"},data:y.BKUS.orderFailureTypes}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsx)("div",{className:"text-gray-400 text-gray-600",children:"Loading chart..."})})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 rounded-xl p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-lg overflow-hidden shadow-lg bg-white",children:(0,t.jsx)(a.default,{src:"/plk-us.png",alt:"Popeyes",width:56,height:56,className:"object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"PLK-US Alerts"}),(0,t.jsx)("p",{className:"text-xs text-orange-50",children:"Popeyes United States"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsx)(g,{title:"Total Store (Kiosk)",value:`${b.PLKUS.totalStores} (${b.PLKUS.totalKiosks})`,icon:(0,t.jsx)(h,{className:"h-5 w-5"}),variant:"plk",loading:e}),(0,t.jsx)(g,{title:"Online Store (Kiosk)",value:`${w(b.PLKUS.onlineStores,b.PLKUS.totalStores)}%`,subtitle:`${b.PLKUS.onlineStores} (${b.PLKUS.onlineKiosks})`,icon:(0,t.jsx)(c.Activity,{className:"h-5 w-5"}),variant:"plk",loading:e}),(0,t.jsx)(g,{title:"Offline Store (Kiosk)",value:`${b.PLKUS.offlineStores} (${b.PLKUS.offlineKiosks})`,icon:(0,t.jsx)(f,{className:"h-5 w-5"}),variant:"plk",loading:e})]}),(0,t.jsxs)("div",{className:"bg-white  rounded-xl border-2 border-orange-200  shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-orange-100",children:(0,t.jsx)("h3",{className:"text-lg font-bold text-orange-700",children:"Order Failure Heatmap (Today)"})}),(0,t.jsx)("div",{className:"p-4",style:{height:"400px"},children:(0,t.jsx)(l.AlertHeatmap,{data:y.PLKUS.alertHeatmap})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white  rounded-xl border-2 border-orange-200  shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold mb-3 text-orange-700 ",children:"Order Failure Trend (1 Week)"}),(0,t.jsx)("div",{style:{height:"250px"},children:y.PLKUS.orderFailureTrend.length>0?(0,t.jsx)(i.ConfigurableLineChart,{config:{title:"PLK-US Order Failure Trend",colors:{primary:"#f97316"}},data:y.PLKUS.orderFailureTrend}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsx)("div",{className:"text-gray-400 text-gray-600",children:"Loading chart..."})})})]}),(0,t.jsxs)("div",{className:"bg-white  rounded-xl border-2 border-orange-200  shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold mb-3 text-orange-700 ",children:"Order Failure Types (1 Week)"}),(0,t.jsx)("div",{style:{height:"250px"},children:y.PLKUS.orderFailureTypes.length>0?(0,t.jsx)(s.ConfigurableBarChart,{config:{title:"PLK-US Order Failure Types",colors:{primary:"#f97316"},orientation:"horizontal"},data:y.PLKUS.orderFailureTypes}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsx)("div",{className:"text-gray-400 text-gray-600",children:"Loading chart..."})})})]})]})]})]})})]})}e.s(["default",()=>p],9519)},58938,e=>{e.v(e=>Promise.resolve().then(()=>e(60166)))},10179,e=>{e.v(e=>Promise.resolve().then(()=>e(85792)))}]);